(window["webpackJsonp"] = window["webpackJsonp"] || []).push([["ProjectTableBody"],{

/***/ "./src/component/Table/ItemTypes.ts":
/*!******************************************!*\
  !*** ./src/component/Table/ItemTypes.ts ***!
  \******************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony default export */ __webpack_exports__[\"default\"] = ({\r\n    ROW: \"row\"\r\n});\r\n\n\n//# sourceURL=webpack:///./src/component/Table/ItemTypes.ts?");

/***/ }),

/***/ "./src/component/Table/Project/ProjectTableBody.tsx":
/*!**********************************************************!*\
  !*** ./src/component/Table/Project/ProjectTableBody.tsx ***!
  \**********************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"./node_modules/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _material_ui_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @material-ui/core */ \"./node_modules/@material-ui/core/esm/index.js\");\n/* harmony import */ var immutability_helper__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! immutability-helper */ \"./node_modules/immutability-helper/index.js\");\n/* harmony import */ var immutability_helper__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(immutability_helper__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var _material_ui_core_styles__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @material-ui/core/styles */ \"./node_modules/@material-ui/core/esm/styles/index.js\");\n/* harmony import */ var _AppContext__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../AppContext */ \"./src/AppContext.tsx\");\n/* harmony import */ var _ProjectTableBodyRow__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./ProjectTableBodyRow */ \"./src/component/Table/Project/ProjectTableBodyRow.tsx\");\n\r\n\r\n\r\n\r\n\r\n\r\nconst useStyles = Object(_material_ui_core_styles__WEBPACK_IMPORTED_MODULE_3__[\"makeStyles\"])(theme => ({}));\r\nconst ProjectTableBody = () => {\r\n    const classes = useStyles();\r\n    const { projectList, setProjectList, _thousandSeperater } = Object(react__WEBPACK_IMPORTED_MODULE_0__[\"useContext\"])(_AppContext__WEBPACK_IMPORTED_MODULE_4__[\"AppContext\"]);\r\n    const [current, setCurrent] = Object(react__WEBPACK_IMPORTED_MODULE_0__[\"useState\"])(null);\r\n    const [target, setTarget] = Object(react__WEBPACK_IMPORTED_MODULE_0__[\"useState\"])(null);\r\n    const moveProject = Object(react__WEBPACK_IMPORTED_MODULE_0__[\"useCallback\"])((dragIndex, hoverIndex) => {\r\n        const current = projectList.list[dragIndex];\r\n        const hover = projectList.list[hoverIndex];\r\n        setCurrent(current);\r\n        setTarget(hover);\r\n        const updateProjectList = immutability_helper__WEBPACK_IMPORTED_MODULE_2___default()(projectList.list, {\r\n            $splice: [\r\n                [dragIndex, 1],\r\n                [hoverIndex, 0, current]\r\n            ]\r\n        });\r\n        setProjectList({ ...projectList, list: updateProjectList });\r\n    }, [projectList, target]);\r\n    const TableSummary = () => {\r\n        return (react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_material_ui_core__WEBPACK_IMPORTED_MODULE_1__[\"TableRow\"], null,\r\n            react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_material_ui_core__WEBPACK_IMPORTED_MODULE_1__[\"TableCell\"], null),\r\n            react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_material_ui_core__WEBPACK_IMPORTED_MODULE_1__[\"TableCell\"], null,\r\n                react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_material_ui_core__WEBPACK_IMPORTED_MODULE_1__[\"Typography\"], { style: { fontWeight: 600 } }, \"Total\")),\r\n            react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_material_ui_core__WEBPACK_IMPORTED_MODULE_1__[\"TableCell\"], { colSpan: 3 }),\r\n            react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_material_ui_core__WEBPACK_IMPORTED_MODULE_1__[\"TableCell\"], { align: \"right\", colSpan: 2 },\r\n                react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_material_ui_core__WEBPACK_IMPORTED_MODULE_1__[\"Typography\"], { style: { fontWeight: 600 } }, _thousandSeperater(projectList.totalcost))),\r\n            react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_material_ui_core__WEBPACK_IMPORTED_MODULE_1__[\"TableCell\"], null)));\r\n    };\r\n    return (react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_material_ui_core__WEBPACK_IMPORTED_MODULE_1__[\"TableBody\"], null, projectList && (react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react__WEBPACK_IMPORTED_MODULE_0___default.a.Fragment, null,\r\n        projectList.list.map((d, i) => {\r\n            return (react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_ProjectTableBodyRow__WEBPACK_IMPORTED_MODULE_5__[\"default\"], { key: d.projectid, data: d, itemIndex: i, moveProject: moveProject, movingItem: {\r\n                    current: current,\r\n                    target: target\r\n                } }));\r\n        }),\r\n        react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(TableSummary, null)))));\r\n};\r\n/* harmony default export */ __webpack_exports__[\"default\"] = (ProjectTableBody);\r\n\n\n//# sourceURL=webpack:///./src/component/Table/Project/ProjectTableBody.tsx?");

/***/ }),

/***/ "./src/component/Table/Project/ProjectTableBodyRow.tsx":
/*!*************************************************************!*\
  !*** ./src/component/Table/Project/ProjectTableBodyRow.tsx ***!
  \*************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"./node_modules/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _material_ui_core_styles__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @material-ui/core/styles */ \"./node_modules/@material-ui/core/esm/styles/index.js\");\n/* harmony import */ var react_router_dom__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! react-router-dom */ \"./node_modules/react-router-dom/esm/react-router-dom.js\");\n/* harmony import */ var _material_ui_core__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @material-ui/core */ \"./node_modules/@material-ui/core/esm/index.js\");\n/* harmony import */ var react_dnd__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! react-dnd */ \"./node_modules/react-dnd/dist/esm/index.js\");\n/* harmony import */ var _AppContext__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../AppContext */ \"./src/AppContext.tsx\");\n/* harmony import */ var _material_ui_core_colors__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @material-ui/core/colors */ \"./node_modules/@material-ui/core/esm/colors/index.js\");\n/* harmony import */ var _material_ui_icons__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @material-ui/icons */ \"./node_modules/@material-ui/icons/esm/index.js\");\n/* harmony import */ var _ItemTypes__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../ItemTypes */ \"./src/component/Table/ItemTypes.ts\");\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\nconst useStyles = Object(_material_ui_core_styles__WEBPACK_IMPORTED_MODULE_1__[\"makeStyles\"])(theme => ({\r\n    tooltip: { fontSize: 14 }\r\n}));\r\nconst ProjectTableBodyRow = props => {\r\n    const classes = useStyles();\r\n    const theme = Object(_material_ui_core_styles__WEBPACK_IMPORTED_MODULE_1__[\"useTheme\"])();\r\n    const { itemIndex, data, moveProject, movingItem } = props;\r\n    const { _dateToString, _thousandSeperater, handleMoveProject, onDeleteProject } = Object(react__WEBPACK_IMPORTED_MODULE_0__[\"useContext\"])(_AppContext__WEBPACK_IMPORTED_MODULE_5__[\"AppContext\"]);\r\n    const [isHover, setIsHover] = Object(react__WEBPACK_IMPORTED_MODULE_0__[\"useState\"])(false);\r\n    const [{ isOver, isOverCurrent }, drop] = Object(react_dnd__WEBPACK_IMPORTED_MODULE_4__[\"useDrop\"])({\r\n        accept: _ItemTypes__WEBPACK_IMPORTED_MODULE_8__[\"default\"].ROW,\r\n        hover(item, monitor) {\r\n            const hoverIndex = itemIndex;\r\n            const dragIndex = item.index;\r\n            if (!drag) {\r\n                return;\r\n            }\r\n            if (dragIndex === hoverIndex) {\r\n                return;\r\n            }\r\n            moveProject(dragIndex, hoverIndex);\r\n            item.index = hoverIndex;\r\n        },\r\n        collect: monitor => ({\r\n            isOver: monitor.isOver(),\r\n            isOverCurrent: monitor.isOver({ shallow: true })\r\n        })\r\n    });\r\n    const [, drag] = Object(react_dnd__WEBPACK_IMPORTED_MODULE_4__[\"useDrag\"])({\r\n        item: { type: _ItemTypes__WEBPACK_IMPORTED_MODULE_8__[\"default\"].ROW, index: itemIndex }\r\n    });\r\n    const onDragEnd = Object(react__WEBPACK_IMPORTED_MODULE_0__[\"useCallback\"])(() => {\r\n        handleMoveProject(movingItem.current, movingItem.target);\r\n    }, [movingItem]);\r\n    let backgroundColor = theme.palette.background.paper;\r\n    if (isOverCurrent || isOver) {\r\n        backgroundColor = theme.palette.action.hover;\r\n    }\r\n    function getLabelFromStatus(status) {\r\n        switch (status) {\r\n            case \"inprogress\":\r\n                return \"Inprogress\";\r\n            case \"pending\":\r\n                return \"Pending\";\r\n            case \"pm\":\r\n                return \"PM\";\r\n            case \"complete\":\r\n                return \"Complete\";\r\n            case \"fail\":\r\n                return \"Fail\";\r\n            default:\r\n                return \"None\";\r\n        }\r\n    }\r\n    function getLabelFromStage(stage) {\r\n        switch (stage) {\r\n            case 1:\r\n                return \"Proposal\";\r\n            case 2:\r\n                return \"Contract\";\r\n            case 3:\r\n                return \"Implement\";\r\n            case 4:\r\n                return \"PM\";\r\n            default:\r\n                return \"None\";\r\n        }\r\n    }\r\n    return (react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_material_ui_core__WEBPACK_IMPORTED_MODULE_3__[\"TableRow\"], { ref: drop, onDragEnd: onDragEnd, style: { backgroundColor, transition: \".2s\" }, onMouseEnter: () => setIsHover(true), onMouseLeave: () => setIsHover(false) },\r\n        react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_material_ui_core__WEBPACK_IMPORTED_MODULE_3__[\"TableCell\"], { padding: \"checkbox\" }, isHover && (react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"div\", { ref: drag },\r\n            react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_material_ui_icons__WEBPACK_IMPORTED_MODULE_7__[\"DragIndicator\"], { fontSize: \"small\", style: { cursor: \"move\", color: _material_ui_core_colors__WEBPACK_IMPORTED_MODULE_6__[\"grey\"][400] } })))),\r\n        react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_material_ui_core__WEBPACK_IMPORTED_MODULE_3__[\"TableCell\"], { align: \"right\" }, itemIndex + 1),\r\n        react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_material_ui_core__WEBPACK_IMPORTED_MODULE_3__[\"TableCell\"], null,\r\n            react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_material_ui_core__WEBPACK_IMPORTED_MODULE_3__[\"Link\"], { component: react_router_dom__WEBPACK_IMPORTED_MODULE_2__[\"Link\"], to: `/project/${data.projectid}` }, data.projectname)),\r\n        react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_material_ui_core__WEBPACK_IMPORTED_MODULE_3__[\"TableCell\"], { align: \"center\" }, getLabelFromStage(data.stage_current)),\r\n        react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_material_ui_core__WEBPACK_IMPORTED_MODULE_3__[\"TableCell\"], { align: \"center\" }, data.enddate ? _dateToString(data.startdate) : \"-\"),\r\n        react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_material_ui_core__WEBPACK_IMPORTED_MODULE_3__[\"TableCell\"], { align: \"center\" }, data.enddate ? _dateToString(data.enddate) : \"-\"),\r\n        react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_material_ui_core__WEBPACK_IMPORTED_MODULE_3__[\"TableCell\"], { align: \"right\" }, _thousandSeperater(data.projectcost)),\r\n        react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_material_ui_core__WEBPACK_IMPORTED_MODULE_3__[\"TableCell\"], { align: \"center\", style: { textTransform: \"capitalize\" } }, getLabelFromStatus(data.status)),\r\n        react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_material_ui_core__WEBPACK_IMPORTED_MODULE_3__[\"TableCell\"], { padding: \"checkbox\" }, isHover ? (react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_material_ui_core__WEBPACK_IMPORTED_MODULE_3__[\"Tooltip\"], { title: \"Delete project\", placement: \"top\", classes: { tooltip: classes.tooltip } },\r\n            react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_material_ui_core__WEBPACK_IMPORTED_MODULE_3__[\"IconButton\"], { onClick: () => onDeleteProject(data) },\r\n                react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_material_ui_icons__WEBPACK_IMPORTED_MODULE_7__[\"Delete\"], null)))) : (react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"div\", { style: { width: 24, height: 24, padding: 12 } })))));\r\n};\r\n/* harmony default export */ __webpack_exports__[\"default\"] = (ProjectTableBodyRow);\r\n\n\n//# sourceURL=webpack:///./src/component/Table/Project/ProjectTableBodyRow.tsx?");

/***/ })

}]);